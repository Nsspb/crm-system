{"ast":null,"code":"import _regeneratorRuntime from\"/home/boss/Desktop/crm/social/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/boss/Desktop/crm/social/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{useRef}from\"react\";import\"./registr.css\";import{useHistory}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Registr(){var username=useRef();var email=useRef();var password=useRef();var passwordAgain=useRef();var history=useHistory();var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(passwordAgain.current.value!==password.current.value)){_context.next=5;break;}passwordAgain.current.setCustomValidity(\"Passwords don't match!\");_context.next=15;break;case 5:user={username:username.current.value,email:email.current.value,password:password.current.value};_context.prev=6;_context.next=9;return axios.post(\"/auth/register\",user);case 9:history.push(\"/login\");_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[6,12]]);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginLeft\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"loginLogo\",children:\"Lamasocial\"}),/*#__PURE__*/_jsx(\"span\",{className:\"loginDesc\",children:\"Connect with friends and the world around you on Lamasocial.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"loginRight\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"loginBox\",onSubmit:handleClick,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",required:true,ref:username,className:\"loginInput\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",required:true,ref:email,className:\"loginInput\",type:\"email\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",required:true,ref:password,className:\"loginInput\",type:\"password\",minLength:\"6\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password Again\",required:true,ref:passwordAgain,className:\"loginInput\",type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"button\",{className:\"loginRegisterButton\",children:\"Log into Account\"})]})})]})});}","map":{"version":3,"sources":["/home/boss/Desktop/crm/social/client/src/pages/registr/Registr.jsx"],"names":["axios","useRef","useHistory","Registr","username","email","password","passwordAgain","history","handleClick","e","preventDefault","current","value","setCustomValidity","user","post","push","console","log"],"mappings":"mTAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,OAAvB,CACA,MAAO,eAAP,CACA,OAASC,UAAT,KAA2B,cAA3B,C,wFAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,CAChC,GAAMC,CAAAA,QAAQ,CAAGH,MAAM,EAAvB,CACA,GAAMI,CAAAA,KAAK,CAAGJ,MAAM,EAApB,CACA,GAAMK,CAAAA,QAAQ,CAAGL,MAAM,EAAvB,CACA,GAAMM,CAAAA,aAAa,CAAGN,MAAM,EAA5B,CACA,GAAMO,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAEA,GAAMO,CAAAA,WAAW,0FAAG,iBAAOC,CAAP,2HAClBA,CAAC,CAACC,cAAF,GADkB,KAEdJ,aAAa,CAACK,OAAd,CAAsBC,KAAtB,GAAgCP,QAAQ,CAACM,OAAT,CAAiBC,KAFnC,0BAGhBN,aAAa,CAACK,OAAd,CAAsBE,iBAAtB,CAAwC,wBAAxC,EAHgB,8BAKVC,IALU,CAKH,CACXX,QAAQ,CAAEA,QAAQ,CAACQ,OAAT,CAAiBC,KADhB,CAEXR,KAAK,CAAEA,KAAK,CAACO,OAAN,CAAcC,KAFV,CAGXP,QAAQ,CAAEA,QAAQ,CAACM,OAAT,CAAiBC,KAHhB,CALG,uCAWRb,CAAAA,KAAK,CAACgB,IAAN,CAAW,gBAAX,CAA6BD,IAA7B,CAXQ,QAYdP,OAAO,CAACS,IAAR,CAAa,QAAb,EAZc,iFAcdC,OAAO,CAACC,GAAR,cAdc,qEAAH,kBAAXV,CAAAA,WAAW,4CAAjB,CAmBA,mBACE,YAAK,SAAS,CAAC,OAAf,uBACE,aAAK,SAAS,CAAC,cAAf,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,WAAI,SAAS,CAAC,WAAd,wBADF,cAEE,aAAM,SAAS,CAAC,WAAhB,0EAFF,GADF,cAOE,YAAK,SAAS,CAAC,YAAf,uBACE,cAAM,SAAS,CAAC,UAAhB,CAA2B,QAAQ,CAAEA,WAArC,wBACE,cACE,WAAW,CAAC,UADd,CAEE,QAAQ,KAFV,CAGE,GAAG,CAAEL,QAHP,CAIE,SAAS,CAAC,YAJZ,EADF,cAOE,cACE,WAAW,CAAC,OADd,CAEE,QAAQ,KAFV,CAGE,GAAG,CAAEC,KAHP,CAIE,SAAS,CAAC,YAJZ,CAKE,IAAI,CAAC,OALP,EAPF,cAcE,cACE,WAAW,CAAC,UADd,CAEE,QAAQ,KAFV,CAGE,GAAG,CAAEC,QAHP,CAIE,SAAS,CAAC,YAJZ,CAKE,IAAI,CAAC,UALP,CAME,SAAS,CAAC,GANZ,EAdF,cAsBE,cACE,WAAW,CAAC,gBADd,CAEE,QAAQ,KAFV,CAGE,GAAG,CAAEC,aAHP,CAIE,SAAS,CAAC,YAJZ,CAKE,IAAI,CAAC,UALP,EAtBF,cA6BE,eAAQ,SAAS,CAAC,aAAlB,CAAgC,IAAI,CAAC,QAArC,qBA7BF,cAgCE,eAAQ,SAAS,CAAC,qBAAlB,8BAhCF,GADF,EAPF,GADF,EADF,CAgDD","sourcesContent":["import axios from \"axios\";\nimport { useRef } from \"react\";\nimport \"./registr.css\";\nimport { useHistory } from \"react-router\";\n\nexport default function Registr() {\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      passwordAgain.current.setCustomValidity(\"Passwords don't match!\");\n    } else {\n      const user = { \n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        await axios.post(\"/auth/register\", user);\n        history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Lamasocial</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Lamasocial.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Username\"\n              required\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              placeholder=\"Email\"\n              required\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              placeholder=\"Password\"\n              required\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              placeholder=\"Password Again\"\n              required\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <button className=\"loginButton\" type=\"submit\">\n              Sign Up\n            </button>\n            <button className=\"loginRegisterButton\">Log into Account</button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}